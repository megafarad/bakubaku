:root {
    --bg: #0f172a;        /* slate-900 */
    --panel: #111827;     /* gray-900 */
    --muted: #94a3b8;     /* slate-400 */
    --text: #e5e7eb;      /* gray-200 */
    --accent: #22c55e;    /* green-500 */
    --accent-2: #ef4444;  /* red-500 */
    --warn: #f59e0b;      /* amber-500 */
    --border: #1f2937;    /* gray-800 */
}
* { box-sizing: border-box; }
html, body, #root { height: 100%; }
body { margin: 0; background: var(--bg); color: var(--text); font: 14px/1.4 system-ui, sans-serif; }

/* App shell: header, main, footer in rows */
.app { display: grid; grid-template-rows: auto 1fr auto; height: 100%; min-height: 0; }
.topbar { display:flex; align-items:center; gap:12px; padding:10px 12px; border-bottom:1px solid var(--border); background: #0b1022; }
.topbar h1 { font-size: 16px; margin: 0; }
.spacer { flex: 1; }

/* MAIN: center content and allow scrolling so footer never overlaps */
.app > .layout { min-height: 0; overflow: auto; }
.layout { display: grid; grid-auto-rows: min-content; gap: 12px; padding: 12px; min-height: 0; max-width: clamp(1000px, 92vw, 1400px); margin: 0 auto; width: 100%; }
.two-col { display: grid; grid-template-columns: repeat(2, minmax(0, 1fr)); gap: 12px; min-height: 0; align-items: stretch; }

.panel { background: var(--panel); border: 1px solid var(--border); border-radius: 10px; padding: 8px; min-height: 0; min-width: 0; overflow: hidden; }
.row.header { display:flex; align-items:center; justify-content: space-between; margin-bottom: 6px; }
.row.header h3 { margin: 6px 0; font-size: 13px; color: var(--muted); }

/* Editors: desktop height */
.editor-panel { height: 60vh; display: grid; grid-template-rows: auto 1fr; min-width: 0; min-height: 0; }
.editor-wrap { height: 100%; min-height: 0; }

/* XSD panel: header (tabs), filename input, editor takes the rest */
.xsd-panel { height: 100%; display: grid; grid-template-rows: auto auto 1fr; min-height: 0; }
.xsd-editor-wrap { height: 100%; min-height: 0; }

.btn { background: #1f2937; color: var(--text); border:1px solid var(--border); padding:6px 10px; border-radius:8px; cursor:pointer; }
.btn:hover { filter: brightness(1.1); }
.btn.primary { background: var(--accent); color:#07130b; border:none; }
.btn.btn--danger { background: var(--accent-2); border: none; }

/* XSD tabs */
.xsd-tabs { display:flex; gap:6px; flex-wrap: wrap; }
.xsd-tab { background:#0b1022; color: var(--text); border:1px solid var(--border); padding:4px 8px; border-radius:8px; cursor:pointer; }
.xsd-tab.active { outline: 2px solid var(--accent); }

.xsd-panel input.name { width: 100%; padding:6px 8px; border-radius:8px; background:#0b1022; color:var(--text); border:1px solid var(--border); margin-bottom: 6px; }

.dropzone { text-align:center; padding: 8px; border: 1px dashed var(--border); color: var(--muted); border-radius: 10px; }

.issues { max-height: 260px; overflow: auto; border:1px solid var(--border); border-radius:8px; }
.issues table { width:100%; border-collapse: collapse; font-size: 12px; }
.issues th, .issues td { padding:6px 8px; border-bottom:1px solid var(--border); vertical-align: top; }
.issues tr.err { background: #2b1520; }
.issues tr.warn { background: #2a210f; }
.issues tr:hover { filter: brightness(1.05); cursor: pointer; }
.issues .msg { white-space: nowrap; overflow: hidden; text-overflow: ellipsis; max-width: 320px; }

.pill { padding: 2px 8px; border-radius: 999px; font-size: 12px; border: 1px solid var(--border); }
.pill.ok { background: #0c2d1a; color: #a7f3d0; }
.pill.bad { background: #2d0c0c; color: #fecaca; }

.stats { display:flex; flex-wrap: wrap; gap: 10px; margin-top: 6px; color: var(--muted); }
.error { color: #fecaca; background:#2d0c0c; border:1px solid var(--accent-2); padding:8px; border-radius:8px; }
.empty { color: var(--muted); padding: 8px; }

/* Monaco decorations */
.line-error { background: rgba(239, 68, 68, 0.15); }
.line-warn  { background: rgba(245, 158, 11, 0.15); }
.gutter-error { border-left: 3px solid var(--accent-2); }
.gutter-warn  { border-left: 3px solid var(--warn); }

.foot { padding: 8px 12px; color: var(--muted); border-top: 1px solid var(--border); }

/* Responsive */
@media (max-width: 1200px) { .layout { max-width: 100%; } }

/* Stack editors on narrow viewports and reduce per-panel height so both fit; allow main to scroll */
@media (max-width: 1100px) {
    .two-col { grid-template-columns: 1fr; }
    .editor-panel { height: 48vh; }
}

@media (max-width: 700px) {
    .editor-panel { height: 44vh; }
}
